<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36" version="27.1.1">
  <diagram name="WhatsApp" id="VQcKLg8QeOJMYL9XkjX6">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="900" pageHeight="1600" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-26" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2690" y="1240" width="360" height="270" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-16" value="" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="1747.5" y="-860" width="2200" height="2020" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-15" value="" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="1700" y="-810" width="2180" height="1970" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1890" y="-550" width="210" height="1480" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-73" value="" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1940" y="530" width="120" height="380" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-72" value="" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1940" y="120" width="120" height="380" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-71" value="" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1940" y="-270" width="120" height="350" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-4" target="J3SmZjjJsAPERFWp4GPV-39">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2150" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2440" y="-270" width="1210" height="280" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-6" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;User service&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2440" y="-270" width="1210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-8" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4422.5" y="940" as="sourcePoint" />
            <mxPoint x="4422.5" y="940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-58" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-10" target="J3SmZjjJsAPERFWp4GPV-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2440" y="40" width="1280" height="410" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-11" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Message service&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2440" y="40" width="1280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-12" value="&lt;span style=&quot;font-family: Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Cassandra&lt;/font&gt;&lt;/span&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2675" y="300" width="105" height="100" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-13" value="" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2636.25" y="120" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-38" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-15" target="J3SmZjjJsAPERFWp4GPV-39">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2640" y="690" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2656" y="788" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-15" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;API&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2626.25" y="130" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-16" value="&lt;span style=&quot;font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif-medium, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;SQL DB&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;div style=&quot;text-align: start;&quot;&gt;&lt;font face=&quot;Google Sans, arial, sans-serif-medium, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;(&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; text-align: center; font-size: 20px;&quot;&gt;&lt;font face=&quot;Google Sans, arial, sans-serif-medium, sans-serif&quot;&gt;read-heavy)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif-medium, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Postgree&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2780" y="-200" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-17" value="" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2610" y="-190" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-18" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2760" y="-120" />
              <mxPoint x="2760" y="-145" />
            </Array>
            <mxPoint x="2780" y="-145" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-19" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;API&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2600" y="-180" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-21" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=27.5;entryPerimeter=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-17" target="J3SmZjjJsAPERFWp4GPV-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2750" y="-130" />
              <mxPoint x="2750" y="-172" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-22" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2690" y="530" width="1160" height="280" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-23" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Image service&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2690" y="530" width="1160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-24" value="" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2712.5" y="595" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-29" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-26" target="QtIXv91sSsGqcYSlcGOX-21">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2762" y="760" />
              <mxPoint x="2870" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-26" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;API&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2702.5" y="605" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-28" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;API Gateway for WEB&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1930" y="-280" width="120" height="350" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-30" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;API Gateway for Desktop&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1930" y="110" width="120" height="380" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-31" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;API Gateway for Mobile&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1930" y="520" width="120" height="380" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-34" target="J3SmZjjJsAPERFWp4GPV-62">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1660" y="-105" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-34" target="p8Vapuknpv6_ZQA-8RbI-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_eHKgkNU9b1T9kCRsu4-1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;jumpStyle=arc;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-34" target="QtIXv91sSsGqcYSlcGOX-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2640" y="1310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1470" y="-40" />
              <mxPoint x="1630" y="-40" />
              <mxPoint x="1630" y="1440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-34" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;WEB&lt;/font&gt;&amp;nbsp;Client&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1320" y="-135" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=light-dark(#000000,#FFFFFF);jumpStyle=arc;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-36" target="J3SmZjjJsAPERFWp4GPV-65">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1660" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-11" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-36" target="QtIXv91sSsGqcYSlcGOX-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-24" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-36" target="rs_zhbmKsSb4Pp0CND8G-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_eHKgkNU9b1T9kCRsu4-2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-36" target="QtIXv91sSsGqcYSlcGOX-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1640" y="770" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1470" y="360" />
              <mxPoint x="1630" y="360" />
              <mxPoint x="1630" y="1440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-36" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Desktop Client&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1320" y="270" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=light-dark(#000000,#FFFFFF);entryX=0;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-38" target="J3SmZjjJsAPERFWp4GPV-66">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1660" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-38" target="rs_zhbmKsSb4Pp0CND8G-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-25" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-38" target="rs_zhbmKsSb4Pp0CND8G-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_eHKgkNU9b1T9kCRsu4-3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-38" target="QtIXv91sSsGqcYSlcGOX-27">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1460" y="770" />
              <mxPoint x="1630" y="770" />
              <mxPoint x="1630" y="1440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-38" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Mobile Client&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1310" y="680" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-39" value="&lt;div style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 20px;&quot;&gt;Notify Service (Kafka)&lt;/span&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rotation=90;align=center;verticalAlign=middle;horizontal=0;fontSize=20;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2257.5" y="640" width="60" height="295" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-40" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;fontColor=light-dark(#000000,#FFFFFF);exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-15" target="J3SmZjjJsAPERFWp4GPV-39">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2656" y="510" />
              <mxPoint x="2490" y="510" />
              <mxPoint x="2490" y="788" />
            </Array>
            <mxPoint x="2650" y="290" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-42" value="&lt;div&gt;&lt;div&gt;&lt;span&gt;Table User:&lt;br&gt;&lt;/span&gt;&lt;div&gt;&lt;font&gt;ID&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;Name&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;Phone number&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;Table Contacts:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;User ID&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;Contact ID&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="2930" y="-210" width="160" height="210" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-46" value="&lt;div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Table Messages:&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Message ID: TIMEUUID&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Author ID&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Chat ID&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Message text&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Image URLs&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;CreatedAt&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Table LastReadState&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Chat ID&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;User ID&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;Last Read Message ID&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 21px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;: TIMEUUID&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2797.5" y="90" width="350" height="320" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-47" value="&lt;span style=&quot;font-size: 21px;&quot;&gt;CRUD&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 21px; background-color: initial;&quot;&gt;User&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2460" y="-210" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-49" value="&lt;font&gt;User Status (partition by User&amp;nbsp;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;ID)&lt;/span&gt;:&lt;/font&gt;&lt;div&gt;&lt;font&gt;{ User ID, IsOnline,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;LastSeen&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;New Message (partition by&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;{&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Message ID,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Author ID,&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Message text,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Image URLs&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Message Read (partition by&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;{&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Message ID, ReadByUser&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;ID&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Image Uploaded (partition by&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;{&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;User ID, Image URLs&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="2120" y="470" width="350" height="270" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-51" value="&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Write-local,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;Replicate to other DCs asynchronously&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;3 Replicas, Partitioned by&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Chat ID,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Clustering key:&amp;nbsp;Message ID (pagination)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Disk consumption:&amp;nbsp;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M * 10 * (2 + 0.5) Kb * 3 = 14,4 TB/day ~ 172TB/M&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Bandwidth:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M * 20 / (24 * 60 * 60) = 46300 RPS&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M * 10 * 2 Kb = 3800Gb/day ~ 45Mb/s&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px; background-color: transparent;&quot;&gt;Suggest to clear move messages&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px;&quot;&gt;older then 30-90 days&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px;&quot;&gt;to S3 or Postgree&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px;&quot;&gt;using separate worker&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="3145" y="90" width="520" height="350" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-52" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-size: 20px;&quot;&gt;DB disk consumption:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M * 10 * 3 * 0.1 Kb * 0.33 = 2000 Gb/day ~ 60 TB/M&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Images S3 disk consumption:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M * 10 * 3 * 1 Mb * 0.33 = 2000 TB/day ~ 60 PB/M&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;S3&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Bandwidth:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M *&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;10 * 3 *&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: initial;&quot;&gt;0.33&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: initial;&quot;&gt;&amp;nbsp;/ (24 * 60 * 60) = 2900 RPS&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial; font-size: 20px;&quot;&gt;2 *&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 20px;&quot;&gt;10^6&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 20px;&quot;&gt;Gb/day&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&amp;nbsp;~ 23Gb/s&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="3305" y="580" width="510" height="220" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-53" value="&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Multi-cluster Kafka with local writes, replicated globally&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Disk consumption:&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200 M * ( 0.2 + 2.3 * 10 + 0.2 + 0.2 ) Kb = 5.5 TB/day&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Bandwidth:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200 M * 20 / (24 * 60 * 60) = 42270 RPS/read&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200 M * 10 / (24 * 60 * 60) = 23130 RPS/write&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2126.25" y="845" width="500" height="170" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-57" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;curved=0;jumpStyle=arc;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-55" target="J3SmZjjJsAPERFWp4GPV-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-55" target="J3SmZjjJsAPERFWp4GPV-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-55" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;LB&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2480" y="150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-61" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;curved=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-59" target="J3SmZjjJsAPERFWp4GPV-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-59" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;LB&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2480" y="-160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-62" target="J3SmZjjJsAPERFWp4GPV-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-62" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;LB&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1740" y="-145" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-65" target="J3SmZjjJsAPERFWp4GPV-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-65" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;LB&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1740" y="260" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-66" target="J3SmZjjJsAPERFWp4GPV-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-66" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;LB&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="1740" y="670" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-77" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=none;curved=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-5" target="J3SmZjjJsAPERFWp4GPV-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZNkFzHYtdV4V_JmKI1H_-70" value="&lt;b&gt;&lt;span lang=&quot;RU&quot; style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;, &amp;quot;serif&amp;quot;;&quot;&gt;&lt;font&gt;WhatsApp&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=0;fontColor=light-dark(#000000,#FFFFFF);fontSize=50;" vertex="1" parent="1">
          <mxGeometry x="1180" y="-680" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="p8Vapuknpv6_ZQA-8RbI-3" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;Nginx Web Server + CDN&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="1290" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-10" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;AWS S3 + CloudFront&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;Microsoft Store,&amp;nbsp;App Store,&amp;nbsp;Snap Store&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="1230" y="400" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-12" value="Exponential back-off" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=23;" vertex="1" parent="1">
          <mxGeometry x="1350" y="640" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-13" value="Exponential back-off" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=23;" vertex="1" parent="1">
          <mxGeometry x="1360" y="230" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-18" value="Exponential back-off" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=23;" vertex="1" parent="1">
          <mxGeometry x="1360" y="-180" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-20" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2710" y="860" width="320" height="260" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-21" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;File service&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2710" y="860" width="320" height="50" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-22" value="" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2822.5" y="950" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-23" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=light-dark(#000000,#FFFFFF);" edge="1" parent="1" source="QtIXv91sSsGqcYSlcGOX-24" target="QtIXv91sSsGqcYSlcGOX-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-24" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;API&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2810" y="960" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-25" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="QtIXv91sSsGqcYSlcGOX-26" target="QtIXv91sSsGqcYSlcGOX-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-26" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;AWS S3&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2797.5" y="1280" width="145" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-27" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;CDN (AWS CloudFront)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2743.75" y="1410" width="252.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-31" value="&lt;div&gt;&lt;font style=&quot;font-size: 26px;&quot;&gt;&lt;div style=&quot;&quot;&gt;WebSockets&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Push events,&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 26px;&quot;&gt;auth,&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 26px;&quot;&gt;rate limit,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 26px;&quot;&gt;circuit breaker&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=30;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="1900" y="-540" width="190" height="220" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-38" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2440" y="-700" width="1010" height="330" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-39" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Presence service&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=light-dark(#000000,#FFFFFF);movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2440" y="-700" width="1010" height="50" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-41" value="" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2626.25" y="-630" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-43" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;API&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;direction=south;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2616.25" y="-620" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-43" value="&lt;span style=&quot;font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif-medium, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Redis&lt;/font&gt;&lt;/span&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2656.25" y="-470" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-45" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=27.5;entryPerimeter=0;curved=0;" edge="1" parent="1" source="QtIXv91sSsGqcYSlcGOX-43" target="J3SmZjjJsAPERFWp4GPV-43">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2760" y="-560" />
              <mxPoint x="2760" y="-442" />
            </Array>
            <mxPoint x="2803.75" y="-592.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-46" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;" edge="1" parent="1" source="QtIXv91sSsGqcYSlcGOX-41" target="J3SmZjjJsAPERFWp4GPV-43">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2780" y="-570" />
              <mxPoint x="2780" y="-430" />
            </Array>
            <mxPoint x="2803.75" y="-605" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-48" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;Checks heart-beats,&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;changes statuses&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2450" y="-490" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-50" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;curved=0;" edge="1" parent="1" source="QtIXv91sSsGqcYSlcGOX-49" target="QtIXv91sSsGqcYSlcGOX-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-49" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;LB&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2491.25" y="-600" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-51" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-4" target="QtIXv91sSsGqcYSlcGOX-49">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2220" y="-180" />
              <mxPoint x="2220" y="-560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-37" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;jumpStyle=arc;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-4" target="J3SmZjjJsAPERFWp4GPV-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2330" y="-180" />
              <mxPoint x="2330" y="-120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-52" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-6" target="QtIXv91sSsGqcYSlcGOX-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2675" y="-370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-53" value="&lt;span&gt;Get statuses&lt;/span&gt;&lt;div&gt;&lt;span&gt;for contacts&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=21;" vertex="1" parent="1">
          <mxGeometry x="3060" y="-360" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-54" value="&lt;span&gt;Send status&lt;/span&gt;&lt;div&gt;&lt;span&gt;changed&amp;nbsp;&lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);rotation=0;fontSize=21;" vertex="1" parent="1">
          <mxGeometry x="2280" y="-480" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-56" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;Send heart-beats&lt;br&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2236.25" y="-600" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QtIXv91sSsGqcYSlcGOX-57" value="&lt;span&gt;Send message&lt;/span&gt;&lt;div&gt;&lt;span&gt;posted&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);rotation=0;fontSize=21;" vertex="1" parent="1">
          <mxGeometry x="2490" y="480" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-3" value="&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Master + 5 Replicas (Async)&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;with&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;hot standby&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;write-central / read-local (&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent; font-size: 20px;&quot;&gt;Read Replicas in each region)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;AWS RDS Multi-AZ&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Disk consumption:&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;200M * 2Kb = 400Gb&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="3090" y="-215" width="520" height="200" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-5" value="&lt;span&gt;Send message&lt;/span&gt;&lt;div&gt;&lt;span&gt;read&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);rotation=0;fontSize=21;" vertex="1" parent="1">
          <mxGeometry x="2491.25" y="560" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-15" target="J3SmZjjJsAPERFWp4GPV-39">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2656" y="590" />
              <mxPoint x="2510" y="590" />
              <mxPoint x="2510" y="788" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-10" value="Google Play Store&lt;div&gt;Apple App Store&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="1300" y="805" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-20" value="&lt;span style=&quot;font-size: 43px; text-wrap-mode: nowrap;&quot;&gt;Multiple Data Centers&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="2040" y="-810" width="510" height="70" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-22" value="&lt;font style=&quot;font-size: 50px;&quot;&gt;GeoDNS&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 50px;&quot;&gt;(AWS Route 53 with Latency-Based Routing)&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=0;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="970" y="-250" width="230" height="1165" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-23" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-34" target="rs_zhbmKsSb4Pp0CND8G-22">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1220" y="-190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-27" value="&lt;span style=&quot;font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif-medium, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;SQL DB&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif-medium, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Postgree&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rounded=1;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2872.5" y="595" width="97.5" height="95" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-30" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-26" target="rs_zhbmKsSb4Pp0CND8G-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-31" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=37.5;entryPerimeter=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-24" target="rs_zhbmKsSb4Pp0CND8G-27">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2840" y="655" />
              <mxPoint x="2840" y="632" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-32" value="&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Table Images:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Image Key (PK)&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Message ID: TIMEUUID&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;CreatedAt&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2980" y="590" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-33" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;jumpStyle=arc;" edge="1" parent="1" source="QtIXv91sSsGqcYSlcGOX-38" target="J3SmZjjJsAPERFWp4GPV-39">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2280" y="-453" />
              <mxPoint x="2280" y="460" />
              <mxPoint x="2470" y="460" />
              <mxPoint x="2470" y="788" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-54" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;RAM consumption:&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Data: 200 M * 0.1 Kb = 20GB&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;With 2 replicas (3 total): 60GB&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Total (buffer&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;x1.5)&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;90GB&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;RAM per Node: 90 / ( 10 * 3 ) = 3GB&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="3090" y="-580" width="350" height="160" as="geometry" />
        </mxCell>
        <mxCell id="J3SmZjjJsAPERFWp4GPV-44" value="&lt;font&gt;Model:&lt;/font&gt;&lt;div&gt;&lt;font&gt;{ UserID:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;{ IsOnline: bool,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;LastSeen: DateTime } }&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="2791.25" y="-640" width="460" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-35" value="&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Redis Cluster (&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;per region)&lt;/span&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;10 shards,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 20px;&quot;&gt;each shard with 2 replicas&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Cross-region sync&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2825" y="-550" width="260" height="110" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-36" value="&lt;span style=&quot;font-size: 21px;&quot;&gt;CRUD&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Messages&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2450" y="100" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;jumpStyle=arc;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-4" target="J3SmZjjJsAPERFWp4GPV-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-39" value="&lt;span&gt;Send image&lt;/span&gt;&lt;div&gt;&lt;span&gt;uploaded&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);rotation=0;fontSize=21;" vertex="1" parent="1">
          <mxGeometry x="2510" y="757.5" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-41" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-15" target="J3SmZjjJsAPERFWp4GPV-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-43" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=32.5;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;curved=0;" edge="1" parent="1" source="J3SmZjjJsAPERFWp4GPV-13" target="J3SmZjjJsAPERFWp4GPV-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-45" value="&lt;div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px; background-color: transparent;&quot;&gt;Suggest to clear old images&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px; background-color: transparent;&quot;&gt;after 30-90 days&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51)); font-size: 20px; background-color: transparent;&quot;&gt;using separate worker&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51));&quot;&gt;Also Delete once a day images without MessageId&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 51));&quot;&gt;(case: image uploaded, message was not sent)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#FFFFFF);" vertex="1" parent="1">
          <mxGeometry x="2870" y="700" width="470" height="110" as="geometry" />
        </mxCell>
        <mxCell id="rs_zhbmKsSb4Pp0CND8G-47" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;Design WhatsApp&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;System requirements:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The system is not seasonal;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The system will be used all over the world;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The application will show unread messages;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The application will support chats and personal messages;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- You can only send text and pictures in messages;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The maximum image size in a message = 1MB;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The maximum number of images in a message = 3;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The maximum text size in a message = 2000 characters;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The clients will be mobile, desktop and WEB applications;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- 200,000,000 unique users log into the application every day;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- Each user sends an average of 10 messages per day;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- Each user views messages an average of 20 times a day;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The system must work 24/7;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The application must show the online/offline status of users, as well as when the user was last online;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The message must reach the recipient within 3 seconds (the user&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-size: 36px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;must receive a Push notification on his mobile phone&lt;/span&gt;&lt;span style=&quot;font-size: 36px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;if offline);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 36px;&quot;&gt;- The application must support cross-device synchronization;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="4060" y="-665" width="1020" height="1140" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
